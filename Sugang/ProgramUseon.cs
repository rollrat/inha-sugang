/***

   Copyright (C) 2023. rollrat. All Rights Reserved.
   
   Author: Jeong HyunJun

***/

using Sugang.INHA_API;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Text;
using System.Threading;
using System.Threading.Tasks;

namespace Sugang
{
    class Program
    {
        static void Main(string[] args)
        {
            SugangSession ss = null;

            while (ss == null || ss == SugangSession.ErrorSession)
            {
                Console.Write("Id: ");
                var id = read_pass();
                Console.Write("Password: ");
                var pwd = read_pass();

                ss = SugangSession.Create(id, pwd);

                if (ss == SugangSession.ErrorSession)
                {
                    Console.WriteLine("Try again!!");
                }
            }


            Console.WriteLine("Logined: " + DateTime.Now.ToString("yyyy'-'MM'-'dd'T'HH':'mm':'ss"));

            while (true)
            {
                try
                {
                    var target_lists = @"BNF3104|CHM1021|CHM1023|GEB1143|GED1009|GED1010|GED2009|GED2010|GED2016|GED3002|GED3015|GED3018|GED4006|GED4009|GED5001|GED5002|GED5003|GED5004|GED5005|GED5007|GED6001|GED6003|GED6007|GEE1001|GEE1005|GEE1006|GEE2016|GEE2024|GEE2025|GEE2027|GEE2028|GEE3002|GEE3012|GEE4007|GEE4011|GEE5017|GEE5018|GEE5019|GEE6001|GEE6014|GEE6016|GEE6019|GEE6020|IGS1203|ISE3236|PHY1001|PHY1002|SIM3102|SIM3203|GEB1116|GEB1112|GEB1114|GEB1126|GEB1142|ACE9501|ACE9503|ACE1301|CHM1027|MTH1001|PHY1003|ACE2101|MEG2073|MEG2074|MEG2076|MEG2101|MEG2120|MEG2160|MEG3013|MEG3077|MEG3078|MEG3079|MEG3080|MEG3104|MEG3106|MEG3110|MEG3115|MEG3116|MEG3123|MEG3151|MEG3162|MEG3165|MEG3175|MEG3185|MEG3211|MEG3252|MEG4080|MEG4103|MEG4112|MEG4125|MEG4129|MEG4153|MEG4163|ASE1040|ASE2012|ASE2020|ASE2055|ASE2091|ASE2100|ASE3031|ASE3035|ASE3054|ASE3072|ASE3093|ASE3100|ASE3112|ASE3222|ASE4052|ASE4064|ASE4070|ASE4122|ASE4124|ASE4140|NOE1011|NOE2001|NOE2002|NOE2005|NOE2030|NOE2312|NOE3001|NOE3013|NOE3101|NOE3102|NOE3301|NOE3405|NOE3417|NOE4037|NOE4109|NOE4317|IEN2004|IEN2007|IEN2008|IEN2014|IEN2202|IEN3014|IEN3015|IEN3016|IEN3024|IEN3030|IEN3202|IEN4023|IEN4103|IEN4104|IEN4114|IEN4116|IEN4117|IEN4206|IEN4303|CHE1103|CHM1028|CHE2100|CHE2102|CHE2104|CHE2108|CHE3201|CHE3202|CHE3207|CHE3210|CHE3212|CHE3300|CHE3301|CHE4308|CHE4100|CHE4203|CHE4212|CHE4301|CHE4303|CHE4401|CHE4405|SBE3001|SBE3002|SBE3004|SBE3006|SBE3007|SBE3008|SBE4001|SBE4002|SBE4003|BTE1101|BTE1201|BTE2101|BTE2102|BTE2105|BTE3101|BTE3103|BTE3106|BTE3110|BTE3112|BTE3113|BTE3205|BTE4101|BTE3109|BTE4103|BTE4104|BTE4110|BTE4201|BTE4205|BTE4206|PSE2011|PSE2041|PSE3110|PSE3120|PSE3170|PSE3181|PSE3191|PSE4010|PSE4060|PSE4150|PSE4171|PSE4181|PSE4190|PSE4210|PSE4220|MSE2001|MSE2003|MSE2005|MSE2006|MSE2010|MSE2013|MSE2009|MSE3001|MSE3003|MSE3009|MSE3011|MSE3016|MSE3017|MSE3025|MSE3013|MSE4001|MSE4005|MSE4006|MSE4012|SEE3000|SEE3101|SEE3102|CIV1020|CIV1611|CIV1910|CIV2020|CIV2030|CIV2101|CIV2311|CIV2411|CIV2511|CIV3721|CIV3010|CIV3100|CIV3150|CIV3220|CIV3330|CIV3710|CIV4100|CIV4210|CIV4230|CIV4370|CIV4990|ENV1002|ENV2004|ENV2005|ENV2007|ENV3104|ENV3110|ENV3201|ENV3206|ENV3303|ENV4002|ENV4203|ENV4204|ENV4403|GEO1011|PHY1005|GEO2003|GEO2010|GEO2011|GEO2012|GEO3001|GEO3101|GEO3102|GEO3105|GEO3108|GEO3206|GEO3307|GEO3308|GEO3310|GEO4010|GEO4212|ACE2102|ACE1310|ARC1201|ARE1403|ACE2104|ARE2105|ARE2203|ARE2303|ACE2103|ARE3108|ARE3207|ARE3307|ARE3403|ARE4107|ARE4113|ARE4209|ARE4309|ARE4310|ARE4410|ARC2002|ARC2102|ARC2203|ARC2302|ARC3104|ARC3106|ARC3205|ARC3304|ARC4110|ARC4116|ARC4207|ARC4306|ARC4307|ARC4311|ARC4209|ARC4309|ARC4313|ENR1101|ENR2102|ENR2103|ENR2106|ENR2107|ENR3101|ENR3102|ENR3103|ENR3202|ENR3305|ENR4104|ENR4105|ENR4201|ENR4302|ENR4310|ENR4311|EEE1001|FVE9001|FVE9002|FVE9003|ACE1302|ACE1307|ACE2105|EEE2001|EEE2003|EEE2006|EEE2201|EEE2008|EEE3002|EEE3104|EEE3106|EEE3110|EEE3114|EEE3203|EEE3210|EEE3323|EEE3324|ACE9702|EEE3108|EEE3113|EEE3305|EEE3311|EEE3312|EEE3313|EEE4001|EEE4003|ECE1211|ECE2222|ECE2240|ECE2243|ECE2266|ECE2248|ECE3314|ECE3320|ECE3349|ECE3360|ECE3361|ECE3362|ECE3364|ECE3408|ECE4326|ECE4343|ECE4409|ECE4421|ECE4461|ECE4466|ECE4468|ECE4469|ECE4480|ICE1001|ICE1005|ICE2002|ICE2003|ICE2006|ICE2013|ICE3002|ICE3005|ICE3008|ICE3013|ICE3015|ICE3020|ICE3104|ICE4005|ICE4001|ICE4009|ICE4024|ICE4025|ICE4027|ICE4032|ICE4104|FVE2007|FVE2009|FVE3001|FVE3004|FVE3010|FVE3011|FVE4002|FVE4018|FVE4007|FVE4009|FVE4012|FVE4013|BPE3101|BPE3102|BPE3103|BPE3106|BPE4101|BPE4102|BPE4103|BPE4105|BPE4106|MTH1003|BIO1001|MTH1002|MTH1011|MTH1031|OCN1005|MTH2001|MTH2003|MTH2004|MTH2012|MTH2503|MTH2601|STS1801|MTH3103|MTH3221|MTH3301|MTH3400|MTH3501|MTH3620|MTH3701|MTH4110|MTH4212|MTH4311|MTH4400|MTH4511|STS1101|STS1103|STS2001|STS2017|STS2018|STS2019|STS2021|STS2041|STS3004|STS3005|STS3019|STS4034|STS4041|STS4043|PHY1114|PHY2001|PHY2012|PHY2015|PHY2051|PHY2204|PHY2501|PHY2520|PHY2100|PHY3021|PHY3031|PHY3312|PHY3401|PHY3514|PHY4820|PHY4235|PHY4404|PHY4501|BIO1101|BIO1102|CHM2101|CHM2201|CHM2401|CHM3109|CHM3113|CHM3217|CHM3302|CHM3313|CHM3412|CHM3501|CHM4115|CHM4409|CHM4513|CHM4613|CHM4614|CHM4615|OCN1001|OCN1011|BIO2103|BIO2105|BIO2108|BIO2109|BIO2110|BIO3101|BIO3102|BIO3105|BIO3106|BIO4101|BIO4104|BIO4105|BIO4205|OCN2101|OCN2202|OCN2401|OCN2402|OCN2501|OCN3603|OCN3203|OCN3306|OCN3311|OCN4107|FAN1102|FAN2106|FAN2108|FAN2302|FAN2401|FAN2402|FAN3203|FAN3204|FAN3306|FAN3307|FAN3308|FAN4210|FAN4208|FAN4209|FAN4211|FAN4310|FAN4311|FAN4416|FAN4417|GEB1113|GEB1141|BUS2101|BUS2201|BUS2301|BUS2303|BUS2304|BUS2401|BUS2402|BUS2404|BUS2501|BUS2503|BUS2601|BUS2603|BUS2701|BUS2801|BUS3002|BUS3006|BUS3008|BUS3009|BUS3101|BUS3102|BUS3201|BUS3301|BUS3302|BUS3303|BUS3403|BUS3405|BUS3408|BUS3501|BUS3502|BUS3506|BUS3508|BUS3509|BUS3510|BUS3607|BUS3701|BUS3804|BUS3903|BUS4002|BUS4104|BUS4201|BUS4203|BUS4301|BUS4303|BUS4501|BUS4504|BUS4601|BUS4603|BUS4701|BUS4702|BUS4902|CBA1102|CBA1103|CBA1104|CBA1105|CBA1106|CBA1107|CBA1108|CBA1109|GFB2101|BUS3007|CBA1201|GFB2103|GFB2104|GFB3101|GFB3103|GFB3104|GFB3201|GFB3202|GFB3301|GFB3401|GFB3403|GFB3404|GFB3405|GFB4103|GFB4104|GFB4111|GFB4301|APL2101|APL2103|APL2105|APL2106|APL2207|APL2301|APL2302|APL2404|APL2405|APL2501|APL2503|APL3306|APL3307|APL4224|APL4422|APL4517|APL1101|APL1104|APL1106|APL4003|INT1051|INT1061|INT1103|INT1111|ECO2201|INT2039|INT2049|INT2053|INT2063|INT2110|INT2202|INT2241|INT2265|INT2315|INT2420|INT2526|INT2530|INT3113|INT3211|INT3212|INT3316|INT3429|INT3261|INT3601|INT4120|INT4132|INT4217|INT4244|INT4431|EDC1100|EDC1101|EDC1104|EDC1105|EDC2101|EDC2103|EDC2107|EDC3102|EDC3106|EDC3311|EDC1106|EDC1111|EDU1110|EDU1160|EDU2111|EDU2140|EDU2223|EDU2225|EDU2245|EDU2253|EDU3262|EDU2235|EDU3111|EDU3273|EDC4108|EDC4109|EDU4111|EDU4225|EDU4274|PAD2108|PAD2112|PAD2116|PAD2118|PAD2125|PAD2204|PAD2209|PAD2215|PAD2219|PAD2220|PAD3101|PAD3104|PAD3106|PAD3108|PAD3111|PAD3113|PAD3116|PAD3117|PAD3119|PAD3209|PAD3214|PAD3217|SOS1102|SOS1103|SOS1104|SOS1101|POL1001|POL1202|POL2121|POL2130|POL2134|POL2145|POL2146|POL2236|POL3127|POL3136|POL3139|POL3141|POL4117|POL4129|POL4147|POL4248|POL4251|POL4139|ECO1101|ECO2202|ECO2212|ECO2222|ECO3242|ECO3271|ECO3306|ECO3313|ECO3343|ECO3344|ECO3347|ECO3352|ECO3361|ECO3362|ECO3374|ECO3382|SOS1105|CON1001|CON1301|SOS1110|CON2202|CON2203|CON2304|CON2403|CON2407|CON2602|CON3402|CON3501|CON3605|CON3607|CON4004|CON4201|CON4301|CON4302|CON4304|CON4604|CHS1201|CHS2102|CHS2205|CHS2209|CHS2402|CHS3118|CHS3215|CHS3404|CHS4214|CHS3214|CHS4110|CHS4401|SOS1111|SWE1102|SWE2102|SWE2105|SWE2207|SWE3101|SWE3102|SWE3103|SWE3201|SWE3202|SWE3205|SWE3206|SWE4103|SWE4201|SWE4206|COM1100|COM2200|COM2300|COM2322|COM2400|COM2432|COM3222|COM3242|COM3331|COM4221|COM4231|COM4321|COM2351|COM4341|COM3101|COM3421|COM4211|COM4411|HUM1001|HUM1002|HUM1004|HUM1021|HUM1031|HUM1041|HKO3001|HUM1003|HUM1005|HUM1011|HKO1102|HKO2205|HKO2301|HKO2302|HKO2303|HKO2002|HKO3102|HKO3104|HKO3204|HKO3206|HKO3301|HKO3302|HKO3303|HKO3304|HKO3306|HKO3308|HKO4101|HKO4103|HKO4107|HKO4205|HKO4306|HIS2103|HIS2104|HIS2113|HIS2201|HIS2207|HIS2301|HIS3203|HIS3208|HIS3306|HIS3403|HIS4205|HIS4209|HIS4210|HIS4309|HIS4405|HIS1002|HIS2006|HIS3007|HIS4002|PHI1201|PHI2203|PHI2205|PHI2303|PHI3114|PHI3123|PHI3207|PHI3402|PHI3403|PHI4119|CHN3341|CHN4101|CHN4229|CHN1005|CHN2005|CHN2009|CHN2011|CHN2111|CHN2339|CHN3113|CHN3115|CHN3117|CHN3119|CHN3121|CHN3229|CHN3231|CHN4102|CHN4235|CHN4341|CHN4345|JPN1001|JPN1003|JPN2003|JPN2020|JPN2022|JPN3025|JPN3005|JPN3020|JPN4016|JPN3012|JPN3022|JPN4001|JPN4017|ENG1401|ENG1402|ENG2104|ENG2201|ENG2203|ENG2204|ENG2303|ENG2305|ENG2401|ENG2402|ENG3009|ENG3106|ENG3108|ENG3206|ENG3207|ENG3314|ENG3401|ENG3404|ENG3405|ENG4304|ENG4305|ENG4402|ENG4403|FLL2001|FLL2005|FLL2010|FLL2028|FLL2029|FLL2032|FLL3005|FLL3018|FLL3022|FLL3024|FLL3026|FLL4007|FLL4011|FLL4018|FLL4019|FLL1001|CCM4212|CCM4213|CCM2111|CCM1213|CCM1214|CCM2214|CCM2216|CCM3211|CCM3212|CCM4214|CCM1315|CCM2316|CCM2323|CCM2418|CCM3312|CCM3411|CCM3412|CCM4311|CCM1417|CCM1418|CCM3313|CCM3413|PMD1002|PMD1008|PMD1010|PMD2010|PMD2012|NUR1001|NUR1010|NUR1011|NUR1015|NUR1004|NUR2002|NUR2003|NUR2004|NUR2010|NUR2012|NUR2014|NUR2015|NUR2024|NUR3001|NUR3003|NUR3006|NUR3011|NUR3013|NUR3018|NUR3021|NUR3024|NUR3026|NUR4002|NUR4004|NUR4009|NUR4011|NUR4014|NUR4016|NUR4017|NUR4024|NUR4027|NUR4029|UMD1001|UMD1002|UMD1003|UMD1022|UMD1023|UMD1024|UMD2002|UMD2003|UMD2004|UMD2005|UMD2006|UMD2008|UMD2009|UMD2019|UMD2022|UMD2026|UMD3001|UMD3002|UMD3003|UMD3004|UMD3005|UMD3006|UMD3007|UMD3008|UMD4001|UMD4002|UMD4005|UMD4006|UMD4007|UMD4008|UMD4009|UMD4010|UMD4011|UMD4012|UMD4021|UMD4022|UMD4024|UMD4025|UMD4026|UMD4027|UMD4029|UMD4030|ITC1201|ITC1207|ACE1312|ITC1206|ITC2207|ITC2209|ITC3407|ITC3402|ITC3601|ITC4611|ITC9005|ITC4604|ITC4610|ITC4616|ITC4618|ITC9003|ITC9006|SIM2401|SIM3204|SIM1002|SIM1004|SIM1003|SIM1404|SIM2202|SIM2302|SIM2501|SIM3201|SIM3303|SIM9005|SIM3202|SIM4302|SIM4401|SIM9003|MCT1001|MCT2002|MCT2102|MCT2103|MCT2601|MCT3101|MCT3102|MCT3605|MCT3606|MCT4102|MCT9005|MCT3107|MCT4103|MCT4107|MCT4108|MCT4605|MCT9003|BNF1002|BNF2201|BNF2301|BNF3101|BNF3103|BNF3302|BNF3401|BNF9005|BNF4101|BNF4202|BNF4302|BNF4501|BNF9007|GEB1107|GEB1108|GEB1109|LAS1001|IBT1201|IGS1102|IGS1130|IGS1131|IBT2101|IBT2102|IBT2105|IBT2107|IBT2201|IBT2202|IGS2107|IBT3105|IBT3107|IBT3108|IBT3109|IBT3110|IBT3201|IBT3202|IBT4101|IBT4104|IBT4105|IBT4106|IBT4107|IBT4202|IBT4204|IBT4205|ISE2136|ISE2237|ISE3139|ISE3237|IGS1230|IGS1231|IGS1232|ISE1233|ISE1234|IGS2130|IGS2137|ISE2134|ISE2135|ISE2232|ISE2233|ISE2234|ISE2235|ISE2236|ISE3132|ISE3133|ISE3136|ISE3137|ISE4133|ISE4134|ISE4136|ISE4137|ISE4230|IGS1160|IGS1161|IGS2160|KLC2161|KLC2162|KLC2164|KLC3160|KLC3161|KLC3163|KLC4160|KLC4162|KLC4261|KLC4263|CSE1103|CSE3203|CSE1101|CSE1112|CSE2104|CSE2107|CSE2112|CSE3206|CSE3207|CSE3212|CSE3308|CSE4204|CSE4205|CSE4302|CSE4307|CSE4312|CSE4313|CSE4315|AIE1001|AIE1003|AIE2001|AIE2003|AIE2005|AIE3001|AIE3002|AIE3005|AIE3006|DSC1001|DSC1003|DSC2003|DSC2008|DSC2009|DSC2001|DSC3001|DSC3002|DSC3005|SME2002|SME2003|SME2008|SME3002|SME3003|CDN1001|CDN1003|DET1001|DET1002|CDN2111|CDN2220|DET2001|DET2003|DET2006|DET2011|CDN3311|DET3001|DET3003|DET3004|DET3007|DET3008|DET3011|DET3012|DET3015|ICT2002|ICT2004|ICT3001|ICT3006|ICT4002|ARS1505|ARS1001|ARS1104|ARS1113|ARS1114|ARS1500|ARS1600|FAT1021|FAT1022|FAT1701|FAT2023|FAT2282|FAT2711|FAT2902|FAT3025|FAT3202|FAT3211|FAT3303|FAT3701|FAT3902|ARS1103|FAT4203|FAT4212|FAT4214|FAT4904|CDN1310|CDN1320|CDN2126|CDN2314|CDN2501|CDN3115|CDN3252|CDN3318|CDN3322|CDN3331|CDN4347|CDN4356|KIN4204|KIN4208|KIN4209|KIN1001|KIN1009|KIN1014|KIN1017|KIN1002|KIN2012|KIN2103|KIN3001|KIN1101|KIN3003|KIN3007|KIN3019|KIN3101|KIN3107|KIN3112|KIN3208|KIN3213|KIN3214|KIN3215|KIN3016|KIN3212|KIN4002|KIN4104|IPS1443|IPS1446|IPS1512|IPS1513|IPS2309|IPS2349|IPS2436|IPS2469|IPS2471|IPS2645|IPS3322|IPS3454|IPS3472|IPS3473|IPS3474|IPS3502|IPS4318|IPS4332|IPS4341|IPS4354|IPS4583|IPS4620|FDT1305|FDT1404|FDT1406|FDT2104|FDT2208|FDT2304|FDT2306|FDT2414|FDT3209|FDT3415|FDT2206|FDT3104|FDT3307|FDT3310|FDT3409|FDT3414|FDT4109|FDT4209|FDT4414|FDT4902|FDT4903|GED1003|GED1004|GED1005|GED1007|GED1011|GED1012|GED2001|GED2002|GED2003|GED2004|GED2005|GED2006|GED2007|GED2008|GED2011|GED2013|GED2015|GED2017|GED2018|GED3001|GED3006|GED3007|GED3008|GED3009|GED3012|GED3013|GED3014|GED3016|GED3020|GED4001|GED4002|GED4003|GED4004|GED4005|GED4007|GED4008|GED5010|GED5011|GED6002|GED6004|GED6005|GED6008|GED4011|GED1002|GEF1103|GEF1104|GEF1105|GEF1106|GEE1002|GEE1003|GEE1004|GEE1010|GEE1018|GEE1019|GEE1020|GEE1021|GEE2001|GEE2005|GEE2006|GEE2007|GEE2011|GEE2012|GEE2013|GEE2019|GEE2030|GEE3001|GEE3003|GEE3004|GEE3008|GEE3009|GEE3010|GEE3016|GEE3017|GEE3018|GEE3020|GEE3021|GEE3024|GEE3025|GEE3026|GEE3027|GEE3028|GEE3029|GEE3030|GEE3031|GEE3032|GEE3033|GEE3034|GEE3036|GEE4002|GEE4003|GEE4004|GEE4005|GEE4006|GEE4009|GEE4010|GEE4012|GEE4013|GEE4014|GEE4015|GEE4017|GEE4018|GEE4019|GEE4020|GEE4021|GEE4025|GEE5001|GEE5003|GEE5008|GEE5009|GEE5014|GEE6002|GEE6003|GEE6004|GEE6005|GEE6006|GEE6007|GEE6009|GEE6010|GEE6011|GEE6013|GEE6015|GEE6018|GEE2015|GEE3013|GEE3015|GEE3019|GEE2003|GEE1012|GEE4022|GEE5016|GEE2008|GEE2009|GEE2010|GEE2021|GEE2023|GEE4001|AAO3033|AAO3037|AAO3038|AAO3043|EKR2213|EKR3214|EEG1521|EEG1522|EEG1531|EEG2521|EEG2624|EEG3327|EEG3370|EEG3706|EEG4347|EEG4405|EEG4406|EEG4805|SSE3331|ILS1005|ILS1010|ILS1012|ILS1015|ILS1016|ILS1021|ILS1025|ILS1031|ILS1033|AAO4010|AAO6512|AAO6514|PHE3121|PHE4119|SSE3132|EKR1512|SSE2101|PHE1122|PHE1100|PHE4171|PHE2564|SSE4351|SSE1241|SSE2252|PHE2163|EMT3352|EMT3144|EMT3341|EMT1235|PHE2564|SSE1251|EKR2112|PHE2100|SSE2243|PHE3152|EKR2313|EEG3731|AIE3010|PHE4161|EMT1125|EMT2241|SSE2261|ACE9505|EMT2243|PHE2163|SSE4314|EKR2516|PHE2112|EKR2415|SSE1111|EMT3349|PHE3142|PHE2107|PHE1113|AIE3007|PHE3731|PHE3152|EKR3415|PHE3933|EEG2631|SSE3222|SSE3373|SSE1131|SSE4224|SSE1131|EEG2631|PHE1112|EKR3514|PHE4711|EMT1135|EMT3345|PHE1119|EKR3321|EEG4801|ACE9505|PHE2118|PHE2165|EKR4514|EMT2347|PHE1112|PHE3131|EMT3343|PHE3118|EMT4434|PHE2124|SSE4164|PHE3112|EKR1311|SSE4164";
                    var results = new List<Subject>();

                    foreach (var target in target_lists.Split('|'))
                    {
                        var yy = ss.QureyStatusByHaksu(target);
                        results.AddRange(yy);
                    }

                    //Parallel.ForEach(target_lists.Split('|'), target =>
                    //{
                    //    var yy = ss.QureyStatusByHaksu(target);

                    //    lock (results)
                    //    {
                    //        results.AddRange(yy);
                    //    }
                    //});

                    results.Sort((x, y) => x.Department.CompareTo(y.Department));

                    var builder = new StringBuilder();

                    foreach (var result in results)
                    {
                        builder.AppendLine($"{result.Hacksu}|{result.Department}|{result.Name}|{result.Score}|{result.Professor}|{result.Remain}");
                    }

                    Console.WriteLine("Cycling!");

                    File.WriteAllText("result/" + DateTime.Now.ToString("yyyy-MM-dd-HH-mm-ss") + ".txt", builder.ToString());
                }
                catch (Exception e)
                {
                    Console.WriteLine(e.Message);
                    Console.WriteLine(e.StackTrace);
                }

                Thread.Sleep(1000 * 60 * 5);
            }
        }

        static string read_pass()
        {
            string pass = "";
            do
            {
                ConsoleKeyInfo key = Console.ReadKey(true);
                if (key.Key != ConsoleKey.Backspace && key.Key != ConsoleKey.Enter)
                {
                    pass += key.KeyChar;
                    Console.Write("*");
                }
                else
                {
                    if (key.Key == ConsoleKey.Backspace && pass.Length > 0)
                    {
                        pass = pass.Substring(0, (pass.Length - 1));
                        Console.Write("\b \b");
                    }
                    else if (key.Key == ConsoleKey.Enter)
                    {
                        break;
                    }
                }
            } while (true);
            Console.WriteLine("");
            return pass;
        }
    }
}
